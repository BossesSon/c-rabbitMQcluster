################################################################################
# SIMPLE LOAD TEST CONFIGURATION
################################################################################
# This file controls your RabbitMQ load test parameters.
# Edit the values below, save the file, then run: ./simple_load_test.sh
#
# FOR BEGINNERS:
# - Lines starting with # are comments (explanations)
# - Change only the values AFTER the = sign
# - Don't use spaces around the = sign
# - Speeds are in messages per second (msg/s)
# - Sizes are in kilobytes (KB)
################################################################################

################################################################################
# TEST PARAMETERS - These control how hard you test the system
################################################################################

# How many messages to send PER SECOND
# Examples:
#   1000   = Light test (good for first try)
#   10000  = Medium test (typical production load)
#   50000  = Heavy test (stress testing)
#   150000 = Maximum test (find cluster limits)
# Start with 10000 and increase to find your limit
MESSAGES_PER_SECOND=10000

# Size of each message in KILOBYTES (KB)
# Examples:
#   1   = 1 KB (small message, like a text notification)
#   10  = 10 KB (medium message, like a JSON object)
#   100 = 100 KB (large message, like an image thumbnail)
# Larger messages = more network bandwidth used
MESSAGE_SIZE_KB=10

# How long to run the test in SECONDS
# Examples:
#   10  = Quick 10-second test
#   60  = 1 minute test
#   300 = 5 minute test
# Longer tests = more accurate results
TEST_DURATION_SECONDS=60

################################################################################
# PERFORMANCE TUNING - Advanced settings
################################################################################
# These settings control HOW the test achieves high throughput.
# DEFAULT VALUES WORK WELL - only change if you understand why.

# Number of WORKER PROCESSES to run
# Why multiple processes?
#   - Python can only use 1 CPU core per process
#   - More processes = use more CPU cores = higher throughput
# Recommendation: Use number of CPU cores on your test machine
#   - 2 cores = use 2 workers
#   - 4 cores = use 4 workers
#   - 8 cores = use 8 workers
PRODUCER_WORKERS=4
CONSUMER_WORKERS=4

# Number of CONNECTIONS each worker process creates to RabbitMQ
# Why multiple connections?
#   - Single connection has bandwidth limit (~20K msg/s)
#   - More connections = more network throughput
#   - Each connection uses a different TCP socket
# Recommendation: 5-10 connections per worker
PRODUCER_CONNECTIONS_PER_WORKER=5
CONSUMER_CONNECTIONS_PER_WORKER=5

# Consumer PREFETCH COUNT
# This controls how many messages a consumer receives before acknowledging
# Higher = better throughput, but more messages lost if consumer crashes
# Lower = safer, but slower
# Recommendation: 100-500 for high throughput
CONSUMER_PREFETCH_COUNT=200

################################################################################
# RABBITMQ CLUSTER CONFIGURATION
################################################################################
# IP addresses or hostnames of your 3 RabbitMQ servers

RMQ1_HOST=192.168.1.101
RMQ2_HOST=192.168.1.102
RMQ3_HOST=192.168.1.103

# RabbitMQ AMQP port (default is 5672, don't change unless you changed RabbitMQ config)
RABBITMQ_PORT=5672

# RabbitMQ Management API port (default is 15672)
RABBITMQ_MGMT_PORT=15672

# RabbitMQ admin username and password
RABBITMQ_ADMIN_USER=admin
RABBITMQ_ADMIN_PASSWORD=password

# Queue name to use for testing (will be created automatically)
TEST_QUEUE_NAME=simple_load_test_queue

################################################################################
# TEST MACHINE CONFIGURATION
################################################################################
# IP address of the machine running this load test (the 4th server)

TEST_HOST=192.168.1.104

################################################################################
# REPORTING OPTIONS
################################################################################

# How often to print progress updates during test (in seconds)
# Examples:
#   1  = Update every second (very detailed)
#   5  = Update every 5 seconds (balanced)
#   10 = Update every 10 seconds (less noise)
REPORT_INTERVAL_SECONDS=5

# Show detailed per-worker statistics (true/false)
# true  = See stats for each worker process (lots of detail)
# false = See only total combined stats (cleaner output)
DETAILED_WORKER_STATS=false

################################################################################
# EXAMPLE CONFIGURATIONS
################################################################################
# Copy and paste these examples to quickly test different scenarios

# EXAMPLE 1: Quick Validation Test (runs in 10 seconds)
# MESSAGES_PER_SECOND=1000
# MESSAGE_SIZE_KB=1
# TEST_DURATION_SECONDS=10
# PRODUCER_WORKERS=2
# CONSUMER_WORKERS=2

# EXAMPLE 2: Medium Load Test (typical production scenario)
# MESSAGES_PER_SECOND=10000
# MESSAGE_SIZE_KB=10
# TEST_DURATION_SECONDS=60
# PRODUCER_WORKERS=4
# CONSUMER_WORKERS=4

# EXAMPLE 3: Heavy Stress Test (find cluster limits)
# MESSAGES_PER_SECOND=100000
# MESSAGE_SIZE_KB=10
# TEST_DURATION_SECONDS=60
# PRODUCER_WORKERS=8
# CONSUMER_WORKERS=8

# EXAMPLE 4: Maximum Throughput Test (saturate the cluster)
# MESSAGES_PER_SECOND=150000
# MESSAGE_SIZE_KB=100
# TEST_DURATION_SECONDS=100
# PRODUCER_WORKERS=8
# CONSUMER_WORKERS=8
# PRODUCER_CONNECTIONS_PER_WORKER=10
# CONSUMER_CONNECTIONS_PER_WORKER=10

################################################################################
# END OF CONFIGURATION
################################################################################
